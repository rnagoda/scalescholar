appId: com.nagodasoft.scalescholar
---
# Test: Navigate to Ear School curriculum and verify structure

- launchApp:
    clearState: true

# Tap the Ear School card on home screen
- tapOn:
    id: "ear-school-card"

# Verify Ear School home opened (shows sections)
- assertVisible:
    id: "ear-school-header-title"

# Verify close button is present
- assertVisible:
    id: "ear-school-close-button"

# Verify section 1 card is present
- assertVisible:
    id: "section-1-card"

# Tap on Section 1 to open it
- tapOn:
    id: "section-1-card"

# Verify Section 1 detail screen
- assertVisible:
    id: "section-1-header-title"

# Verify lesson 1.1 is present
- assertVisible:
    id: "lesson-1-1-card"

# Tap on Lesson 1.1
- tapOn:
    id: "lesson-1-1-card"

# Verify intro screen opened
- assertVisible:
    id: "lesson-ear-school-1.1-intro-header"

# Close from intro screen
- tapOn:
    id: "intro-close-button"

# Confirm leave dialog appears (since session not complete)
- extendedWaitUntil:
    visible:
      text: "Leave"
    timeout: 3000

# Tap Leave to confirm
- tapOn:
    text: "Leave"

# Wait for section detail screen to be visible after navigation
- extendedWaitUntil:
    visible:
      id: "section-1-header-title"
    timeout: 5000

# Back on section detail - close it
- tapOn:
    id: "section-1-close-button"

# Back on Ear School home - close it
- tapOn:
    id: "ear-school-close-button"

# Verify we're back on home screen
- assertVisible:
    id: "home-header-title"
