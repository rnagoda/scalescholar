appId: com.nagodasoft.scalescholar
---
# Test: Navigate to Ear School curriculum and verify structure

- launchApp:
    clearState: true

# Tap the Ear School card on home screen
- tapOn:
    id: "ear-school-card"

# Verify Ear School home opened (shows weeks)
- assertVisible:
    id: "ear-school-header-title"

# Verify close button is present
- assertVisible:
    id: "ear-school-close-button"

# Verify week 1 card is present
- assertVisible:
    id: "week-1-card"

# Tap on Week 1 to open it
- tapOn:
    id: "week-1-card"

# Verify Week 1 detail screen
- assertVisible:
    id: "week-1-header-title"

# Verify lesson 1.1 is present
- assertVisible:
    id: "lesson-1-1-card"

# Tap on Lesson 1.1
- tapOn:
    id: "lesson-1-1-card"

# Verify lesson player opened
- assertVisible:
    id: "lesson-ear-school-1.1-header-title"

# Close lesson player
- tapOn:
    id: "lesson-ear-school-1.1-close-button"

# Confirm leave dialog appears (since session not complete)
- extendedWaitUntil:
    visible:
      text: "Leave"
    timeout: 3000

# Tap Leave to confirm
- tapOn:
    text: "Leave"

# Wait for week detail screen to be visible after navigation
- extendedWaitUntil:
    visible:
      id: "week-1-header-title"
    timeout: 5000

# Back on week detail - close it
- tapOn:
    id: "week-1-close-button"

# Back on Ear School home - close it
- tapOn:
    id: "ear-school-close-button"

# Verify we're back on home screen
- assertVisible:
    id: "home-header-title"
